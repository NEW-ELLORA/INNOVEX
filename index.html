<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>KrishiSetu  - Full Ecosystem</title>

    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Kannada:wght@400;700&family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet">

    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="text-gray-300">

    <div class="bg-grid"></div>

    <div id="preloader">
        <svg id="preloader-svg" viewBox="0 0 100 100">
            <path id="preloader-leaf" d="M50,10 C20,30 20,70 50,90 C80,70 80,30 50,10 Z M50,10 C50,10 50,90 50,90"/>
        </svg>
    </div>

    <header id="main-header" class="glass-nav fixed top-0 left-0 w-full z-40">
        <nav class="container mx-auto max-w-7xl px-6 py-4 flex justify-between items-center">
            <a href="#" onclick="returnHome()" class="text-2xl font-bold text-white cursor-pointer">
                Krishi<span class="text-green-400">Setu</span>
            </a>
            <div class="hidden md:flex items-center space-x-6 lg:space-x-8">
                <a href="#hero" onclick="returnHome()" class="text-gray-300 hover:text-green-400 transition" data-i18n="nav_home">Home</a>
                <a href="#dashboard" onclick="returnHome()" class="text-gray-300 hover:text-green-400 transition" data-i18n="nav_dashboard">Dashboard</a>
                <a href="#features" onclick="returnHome()" class="text-gray-300 hover:text-green-400 transition" data-i18n="nav_features">Features</a>
                <a href="#marketplace" onclick="returnHome()" class="text-gray-300 hover:text-green-400 transition" data-i18n="nav_marketplace">Marketplace</a>
            </div>
            <div class="flex items-center space-x-4">
                <select id="language-selector" onchange="changeLanguage(this.value)" class="lang-select">
                    <option value="en">English</option>
                    <option value="hi">हिंदी</option>
                    <option value="kn">ಕನ್ನಡ</option>
                </select>

                <div class="relative">
                    <button id="sell-product-btn" onclick="openSellModal()" class="neon-button px-4 py-2 hidden" title="Sell Your Produce">Sell Produce</button>
                    <span id="sell-notif-badge" class="small-badge hidden absolute -top-2 -right-2">0</span>
                </div>

                <button id="login-get-started-btn" onclick="showLoginSelection()" class="neon-button px-5 py-2" data-i18n="btn_login">
                    Login / Get Started
                </button>
            </div>
        </nav>
    </header>

    <div id="newsPanel" class="news-panel glass-card">
        <div class="panel-header">
            <div class="panel-title">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 00-2-2H7a2 2 0 00-2 2m14 0v7a2 2 0 01-2 2H7a2 2 0 01-2-2v-7"/></svg>
                <span data-i18n="news_title">Latest Farming News</span>
            </div>
            <div>
                <button id="closeNewsBtn" class="panel-close" title="Close news" data-i18n="btn_close">Close</button>
            </div>
        </div>

        <div class="filters">
            <button class="news-filter active" data-filter="all" data-i18n="news_all">All</button>
            <button class="news-filter" data-filter="loans" data-i18n="news_loans">Loans</button>
            <button class="news-filter" data-filter="schemes" data-i18n="news_schemes">Schemes</button>
            <button class="news-filter" data-filter="market" data-i18n="news_market">Market</button>
        </div>

        <div id="newsList" class="news-list flex-1">
            </div>

        <div style="margin-top:auto; font-size:0.85rem; color:#9db99d; padding-top:12px; border-top: 1px solid rgba(255,255,255,0.05);">
            <div class="flex justify-between items-center">
                <span><span data-i18n="news_updated">Last update:</span> <span id="news-last-updated">just now</span></span>
                <button id="refreshNewsBtn" class="news-filter-btn" data-i18n="btn_refresh">Refresh</button>
            </div>
        </div>
    </div>

    <div id="newsArrowContainer" class="slide-arrow-container hidden-section">
        <button onclick="toggleNews()" class="slide-arrow-btn" title="Open News">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
        </button>
    </div>

    <main id="main-content" class="pt-20">
        <!-- Landing Page View -->
        <div id="view-landing">
            <section id="hero" class="relative min-h-screen flex items-center justify-center pt-12 pb-12">
                <!-- Hero content -->
            </section>
            <section id="dashboard" class="py-24 bg-green-950/20">
                 <!-- Dashboard content -->
            </section>
            <section id="features" class="py-24">
                 <!-- Features content -->
            </section>
             <section id="about" class="py-32 bg-fixed" style="background-image: linear-gradient(rgba(2, 6, 1, 0.8), rgba(2, 6, 1, 0.8)), url('https://images.unsplash.com/photo-1500382017468-904924547a59?q=80&w=2000&auto=format&fit=crop'); background-size: cover; background-position: center;">
                 <!-- About content -->
            </section>
            <section id="marketplace" class="py-24">
                 <!-- Marketplace content -->
            </section>
            <footer class="border-t border-green-400/10 py-16 mt-12">
                 <!-- Footer content -->
            </footer>
        </div>

        <!-- Login Selection View -->
        <div id="view-login-select" class="hidden-section container mx-auto max-w-4xl flex-col items-center justify-center min-h-[60vh] fade-in mt-10">
            <!-- Login selection content -->
        </div>

        <!-- Admin Auth View -->
        <div id="view-admin-auth" class="hidden-section container mx-auto max-w-md mt-20 fade-in">
            <!-- Admin auth content -->
        </div>

        <!-- Farmer Auth View -->
        <div id="view-farmer-auth" class="hidden-section container mx-auto max-w-md mt-20 fade-in">
            <!-- Farmer auth content -->
        </div>

        <!-- Admin Panel View -->
        <div id="view-admin-panel" class="hidden-section container mx-auto max-w-7xl mt-10 fade-in px-6 pb-20">
             <!-- Admin panel content -->
        </div>

        <!-- Farmer Dashboard View -->
        <div id="view-farmer-dashboard" class="hidden-section container mx-auto max-w-7xl mt-6 fade-in px-6 pb-20">
            <!-- Farmer dashboard content -->
        </div>

        <!-- Modals -->
        <div id="admin-farmer-view-modal" class="fixed inset-0 bg-black/90 hidden z-[110] flex items-center justify-center p-4 backdrop-blur-sm">
            <!-- Admin farmer view modal content -->
        </div>
        <div id="sell-modal" class="fixed inset-0 bg-black/90 hidden z-[130] flex items-center justify-center p-4 backdrop-blur-sm">
             <!-- Sell modal content -->
        </div>
        <div id="chat-widget-container" class="fixed bottom-6 right-6 z-50">
             <!-- Chat widget content -->
        </div>
        <div id="dan-modal" class="fixed inset-0 bg-black/90 hidden z-[120] flex items-center justify-center p-4 backdrop-blur-sm">
            <!-- DAN modal content -->
        </div>
    </main>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>
